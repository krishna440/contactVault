<!DOCTYPE html>
<html lang="en"
      th:replace="~{base :: parent(~{::#content},~{::title},~{::script})}">

<head>
    <title>Shared Contacts</title>
</head>

<body>

<div id="content">

    <!-- Sidebar -->
    <div th:if="${loggedInUser}">
        <div th:replace="~{user/sidebar :: sidebar}"></div>
    </div>


    <!-- Main -->
    <div class="sm:pl-64 pt-20">

        <h1 class="text-4xl text-center">
            Contacts Shared With You
        </h1>

        <p class="text-center mb-5">
            These contacts were shared by other users
        </p>


        <div class="p-5">

            <!-- No contacts -->
            <div th:if="${sharedContacts == null or sharedContacts.size() == 0}"
                 class="text-center text-gray-500">

                No shared contacts found

            </div>


            <!-- Contacts grid -->
            <div class="grid md:grid-cols-3 gap-5">

                <div th:each="c : ${sharedContacts}"
                     class="bg-white dark:bg-gray-800 p-5 rounded shadow">

                    <img th:src="${c.picture}"
                         src="/images/default.jpg"
                         onerror="this.src='/images/default.jpg'"
                         class="w-20 h-20 rounded-full mx-auto"/>

                    <h2 class="text-xl text-center mt-3"
                        th:text="${c.name}"></h2>

                    <p class="text-center text-gray-500"
                       th:text="${c.email}"></p>

                    <p class="text-center text-gray-500"
                       th:text="${c.phoneNumber}"></p>


                    <div class="flex justify-center mt-3 space-x-3">

                        <a th:href="'tel:' + ${c.phoneNumber}"
                           class="text-green-500 hover:text-green-700">
                            Call
                        </a>

                        <a th:href="'mailto:' + ${c.email}"
                           class="text-blue-500 hover:text-blue-700">
                            Email
                        </a>

                    </div>

                </div>

            </div>

        </div>

    </div>

</div>


<!-- REQUIRED SCRIPT FRAGMENT -->
<div th:fragment="script">

    <!-- optional JS -->
    <script>
        console.log("Shared contacts page loaded");
    </script>

</div>


</body>
</html>
